import showProjects from ".";


let taskArray = [];
let dateArray = [];
let rawDateArray = [];
let projectArray = [];
let projectDescriptionAray = [];
let currentIndexArray = [0];



export default class CreateToDoTask {
    constructor(task) {
      this.task = task;
    }

    addCurrentIndexToArray(currentIndex) {
      currentIndexArray.push(currentIndex);
    } 

    incrementCurrentIndexValue() {
      let currentIndexValueLength = currentIndexArray.length - 1;
      currentIndexArray[currentIndexValueLength] += 1;
    }

    returnCurrentIndexValue() {
      let currentIndexValueLength = currentIndexArray.length - 1;
      return currentIndexArray[currentIndexValueLength];
    }


    createTaskArray () {
      let newTaskArray = [];
      taskArray.push(newTaskArray);
    }


    addTaskToArray(projectIndexValue, task) {
      taskArray[projectIndexValue].push(task);
    }
    
    modifyTaskArray(projectIndexValue, taskLocation, newTask) {
      taskArray[projectIndexValue][taskLocation] = newTask;
    }


    returnTaskValue(projectIndex, taskLocation) {
      return taskArray[projectIndex][taskLocation];
    }


    showTaskArrayLength(projectIndex) {
      let projectTaskArrayLength = taskArray[projectIndex];
      return projectTaskArrayLength.length;
    }

    createDateArray() {
      let newDateArray = [];
      dateArray.push(newDateArray);
    }

    addDateToArray(projectIndexValue, date) {
      dateArray[projectIndexValue].push(date);
    }

    modifyDateArray(projectIndexValue, dateLocation, newDatevalue) {
      dateArray[projectIndexValue][dateLocation] = newDatevalue;
    } 


    returnDateValue(projectIndex, dateLocation) {
      return dateArray[projectIndex][dateLocation];
    }
    
    createRawDateArray() {
      let newRawDateArray = [];
      rawDateArray.push(newRawDateArray);
    }

    addRawDateToArray(projectIndexValue, rawDate) { 
      rawDateArray[projectIndexValue].push(rawDate);
    }

    returnRawDateValue(projectIndex, rawDateLocation) {
      return rawDateArray[projectIndex][rawDateLocation];
    }

    removeTaskAndDateFromArray(projectArrayLocation, projectIndex) {
      taskArray[projectArrayLocation].splice(projectIndex, 1);
      dateArray[projectArrayLocation].splice(projectIndex, 1);
    }

    addProjectNameToArray(projectName) {
      projectArray.push(projectName);
    }
    

    modifyProjectName(projectIndexValue, newProjectName) {
      projectArray[projectIndexValue] = newProjectName;
    }
    
    removeProjectName(projectIndex) {
      projectArray.splice(projectIndex, 1);
    }

    returnProjectArrayLength() {
      return projectArray.length;
    }

    showProjectArray() {
      return alert(projectArray);
    }

    addProjectDescriptionToArray(projectDescription) {
      projectDescriptionAray.push(projectDescription);
    }

    returnProjectDescriptionValue(projectIndex) {
      return projectDescriptionAray[projectIndex];
    }

    modifyProjectDescription(projectIndex, newProjectDescription) {
      projectDescriptionAray[projectIndex] = newProjectDescription;
    }

    showProjectDescriptionArray() {
      return console.log(projectDescriptionAray);
    }

    renderProjectName(projectIndex) {
      let projectNameArrayLength = projectArray.length;
      let projectList = document.querySelector(".projects-list");
      projectList.innerHTML = "";

      for (let i = 0; i < projectNameArrayLength; i++) {
        let projectName = document.createElement("span");

        projectName.innerHTML = `
        <span class="${i} project-names">${projectArray[i]}</span>
        `

        projectName.dataset.index = i;

        projectName.onclick = showProjects(projectName, projectDescriptionAray[projectIndex]);
        
        projectList.appendChild(projectName);
      }
    }


    renderToDoTask(projectIndex, taskLength) {
      let taskArrayLength = taskLength;
      for(let i = 0; i < taskArrayLength; i++) {
        let projectTasksContainer = document.querySelector(".project-tasks-container");
        let taskInfosContainer = document.createElement("div");
        taskInfosContainer.className = "task-infos-container";
        let taskElement = document.createElement("span");
        let dateInput = document.createElement("span")
        let editIcon = document.createElement("span");
        let deleteIcon = document.createElement("span");

        taskInfosContainer.innerHTML = `<div class="task-infos-container"></div>`
        taskElement.innerHTML = `<span class="project-task">${taskArray[projectIndex][i]}</span>`
        dateInput.innerHTML = `<span class="project-task"> ${dateArray[projectIndex][i]}</span>`

        editIcon.innerHTML = `<span class="material-symbols-outlined task-edit-icon">edit</span>`
        deleteIcon.innerHTML = `<span class="material-symbols-outlined trash-icon">delete</span>`

        taskInfosContainer.dataset.index = i;
        
        taskInfosContainer.appendChild(taskElement);
        taskInfosContainer.appendChild(dateInput);
        taskInfosContainer.appendChild(editIcon);
        taskInfosContainer.appendChild(deleteIcon);

        projectTasksContainer.appendChild(taskInfosContainer);
      }
    }
 
  }